

List of things to do. *urgent +preferable



Connectivity:

* Morph by connectivity
+ Height based on connectivity on each node rather than areas in some cases.




Lines:

+ Spline across nodes
+ Spline status of a new line same as previous line
 Length and direction of lines on side bar for drawing to scale
 Fix number of grid size
+ Colour with height

Symbols:
* Symbols - work out area by angle of a connectivity line coming off
   nodes. Allow symbol to go in multiple areas by connecting to multiple nodes?
 Real time update SAreas?
 Real time update symbol layers?
* Symbol type that fills area it occupies
 Nodes on the ends of symbol lines
 Symbol line type with text to determine the symbol?


Saving:
+ Warning if not all files saved when exiting
 Option to delete files within tunnel
 Allow files to be saved separately
* Read in .pos / .3d file
+ back up file before saving
+ MsgBox if save not successful
+ Do not over write files if save unsucesfull.
 Remove * when sketches saved


Line types:
 Cross section line, either connected by a line to the cross section or with a reference to the cross section.
 Some way of identifying which way around lines are, when drawing, eg a single tick mark in the middle and perpendicular to the line. This would make it easier to consider columns. I am concerned that all the areas may go wrong when large loops are created.
 Way to get program to automatically sort out which way round it thinks walls should be.


Bug reports:

This happens whilst tryin to ctrl-left click on the end of a selected line. Perhaps this doubling up of what ctrl-left click should be avoided. i.e. selecting a node and splitting a selected line. As often I want to leave a node mid-line to connect something to it later. Then when I want to continue the line either I am worried that I will do it from part way along a previous line or I have to deselect the line with a right click. Perhaps ctrl-shift left click.

backimgdraw 318
iter 35.71597719565034  -0.37829385804940324
iter 22.283328477293253  -0.30330471398118647
iter 10.12045033276081  -0.20957185208891457
iter 15.669108033180237  -0.22471201382004755
java.lang.ArrayIndexOutOfBoundsException: -2
       at Tunnel.OnePath.BuildSplineContolPoints(OnePath.java:581)
       at Tunnel.OnePath.SplitNode(OnePath.java:439)
       at Tunnel.SketchGraphics.SplitCurrpathNode(SketchGraphics.java:1334)
       at Tunnel.SketchGraphics.mouseReleased(SketchGraphics.java:1633)
       at java.awt.Component.processMouseEvent(Component.java:5134)
       at java.awt.Component.processEvent(Component.java:4931)
       at java.awt.Container.processEvent(Container.java:1566)
       at java.awt.Component.dispatchEventImpl(Component.java:3639)
       at java.awt.Container.dispatchEventImpl(Container.java:1623)
       at java.awt.Component.dispatchEvent(Component.java:3480)
       at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:3450 )
       at java.awt.LightweightDispatcher.processMouseEvent(Container.java:3165)

       at java.awt.LightweightDispatcher.dispatchEvent(Container.java:3095)
       at java.awt.Container.dispatchEventImpl(Container.java:1609)
       at java.awt.Window.dispatchEventImpl(Window.java:1590)
       at java.awt.Component.dispatchEvent(Component.java:3480)
       at java.awt.EventQueue.dispatchEvent(EventQueue.java:450)
       at java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchTh read.java:197)
       at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThre ad.java:150)
       at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:144)

       at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:136)

       at java.awt.EventDispatchThread.run(EventDispatchThread.java:99)

This is what happens when you try to load merrygoround3/meerygoround3-sketch0.xml Then some of the lines come up for that survey.

dateorder 112 merrygoround3 Loading new backimage c:\cygwin\home\mjg54\surveys\204survey\204\merrygoround3\. .\..\..\2002#24\plan.png sun.awt.windows.WImage@6c5482 backimgdraw 0 java.lang.NullPointerException image bits 3 8 4 64 at Tunnel.OneSketch.paintW(OneSketch.java:1050)
       at Tunnel.SketchGraphics.paintComponent(SketchGraphics.java:442)
       at javax.swing.JComponent.paint(JComponent.java:808)

       at javax.swing.JComponent.paintChildren(JComponent.java:647)
       at javax.swing.JComponent.paint(JComponent.java:817)
       at javax.swing.JComponent.paintChildren(JComponent.java:647)
       at javax.swing.JSplitPane.paintChildren(JSplitPane.java:1021)
       at javax.swing.JComponent.paint(JComponent.java:817)
       at javax.swing.JComponent.paintChildren(JComponent.java:647)
       at javax.swing.JComponent.paint(JComponent.java:817)
       at javax.swing.JComponent.paintChildren(JComponent.java:647)
       at javax.swing.JComponent.paint(JComponent.java:817)
       at javax.swing.JLayeredPane.paint(JLayeredPane.java:552)
       at javax.swing.JComponent.paintChildren(JComponent.java:647)
       at javax.swing.JComponent.paintWithOffscreenBuffer(JComponent.java:4778)

       at javax.swing.JComponent.paintDoubleBuffered(JComponent.java:4724)
       at javax.swing.JComponent.paint(JComponent.java:798)
       at java.awt.GraphicsCallback$PaintCallback.run(GraphicsCallback.java:21)

       at sun.awt.SunGraphicsCallback.runOneComponent(SunGraphicsCallback.java: 60)
       at sun.awt.SunGraphicsCallback.runComponents(SunGraphicsCallback.java:97 )
       at java.awt.Container.paint(Container.java:1309)
       at sun.awt.RepaintArea.paint(RepaintArea.java:177)
       at sun.awt.windows.WComponentPeer.handleEvent(WComponentPeer.java:260)
       at java.awt.Component.dispatchEventImpl(Component.java:3699)
       at java.awt.Container.dispatchEventImpl(Container.java:1623)
       at java.awt.Window.dispatchEventImpl(Window.java:1590)
       at java.awt.Component.dispatchEvent(Component.java:3480)
       at java.awt.EventQueue.dispatchEvent(EventQueue.java:450)
       at java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchTh read.java:197)
       at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThre ad.java:150)
       at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:144)

       at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:136)

       at java.awt.EventDispatchThread.run(EventDispatchThread.java:99)
image allbits there
making new backimage
new backimagedone
backimgdraw 1
java.lang.NullPointerException
       at Tunnel.OneSketch.paintW(OneSketch.java:1050)
       at Tunnel.SketchGraphics.paintComponent(SketchGraphics.java:442)
       at javax.swing.JComponent.paint(JComponent.java:808)
       at javax.swing.JComponent.paintWithOffscreenBuffer(JComponent.java:4771)

       at javax.swing.JComponent.paintDoubleBuffered(JComponent.java:4724)
       at javax.swing.JComponent._paintImmediately(JComponent.java:4668)
       at javax.swing.JComponent.paintImmediately(JComponent.java:4477)
       at javax.swing.RepaintManager.paintDirtyRegions(RepaintManager.java:410)

       at javax.swing.SystemEventQueueUtilities$ComponentWorkRequest.run(System EventQueueUtilities.java:117)
       at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:178)
       at java.awt.EventQueue.dispatchEvent(EventQueue.java:448)
       at java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchTh read.java:197)
       at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThre ad.java:150)
       at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:144)

       at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:136)

       at java.awt.EventDispatchThread.run(EventDispatchThread.java:99)



The save error is still around

Saving file c:\cygwin\home\mjg54\surveys\204survey\204survey-sketch1.xml
java.lang.ArrayIndexOutOfBoundsException: 2
       at Tunnel.OnePath.SetTangentAngles(OnePath.java:203)
       at Tunnel.OnePath.Update_pco(OnePath.java:191)
       at Tunnel.OnePath.GetCoords(OnePath.java:212)
       at Tunnel.OnePath.WriteXML(OnePath.java:726)
       at Tunnel.OneSketch.WriteXML(OneSketch.java:746)
       at Tunnel.TunnelSaver.SaveSketches(TunnelSaver.java:114)
       at Tunnel.TunnelSaver.SaveFilesRecurse(TunnelSaver.java:199)
       at Tunnel.TunnelSaver.SaveFilesRoot(TunnelSaver.java:215)
       at Tunnel.MainBox.MainSaveXMLdir(MainBox.java:175)
       at Tunnel.MainBox$6.actionPerformed(MainBox.java:302)
       at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:17 64)
       at javax.swing.AbstractButton$ForwardActionEvents.actionPerformed(Abstra ctButton.java:1817)
       at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel .java:419)
       at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:257 )
       at javax.swing.AbstractButton.doClick(AbstractButton.java:289)
       at javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:1 113)
       at javax.swing.plaf.basic.BasicMenuItemUI$MenuDragMouseHandler.menuDragM ouseReleased(BasicMenuItemUI.java:1006)
       at javax.swing.JMenuItem.fireMenuDragMouseReleased(JMenuItem.java:585)
       at javax.swing.JMenuItem.processMenuDragMouseEvent(JMenuItem.java:482)
       at javax.swing.JMenuItem.processMouseEvent(JMenuItem.java:429)
       at javax.swing.MenuSelectionManager.processMouseEvent(MenuSelectionManag er.java:274)
       at javax.swing.plaf.basic.BasicMenuUI$MouseInputHandler.mouseReleased(Ba sicMenuUI.java:344)
       at java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:2 27)
       at java.awt.Component.processMouseEvent(Component.java:5134)
       at java.awt.Component.processEvent(Component.java:4931)
       at java.awt.Container.processEvent(Container.java:1566)
       at java.awt.Component.dispatchEventImpl(Component.java:3639)
       at java.awt.Container.dispatchEventImpl(Container.java:1623)
       at java.awt.Component.dispatchEvent(Component.java:3480)
       at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:3450 )
       at java.awt.LightweightDispatcher.processMouseEvent(Container.java:3165)

       at java.awt.LightweightDispatcher.dispatchEvent(Container.java:3095)
       at java.awt.Container.dispatchEventImpl(Container.java:1609)
       at java.awt.Window.dispatchEventImpl(Window.java:1590)
       at java.awt.Component.dispatchEvent(Component.java:3480)
       at java.awt.EventQueue.dispatchEvent(EventQueue.java:450)
       at java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchTh read.java:197)
       at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThre ad.java:150)
       at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:144)

       at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:136)

       at java.awt.EventDispatchThread.run(EventDispatchThread.java:99)



